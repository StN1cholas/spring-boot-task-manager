# src/test/resources/application.properties

# DataSource Configuration for H2 (??? ??????, ?? ???????????? Testcontainers ??? PG)
spring.datasource.url=jdbc:h2:mem:testtaskmanagerdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop

spring.flyway.enabled=false

# Kafka Properties for tests (???????? ??? TaskManagerApplicationTests ? @EmbeddedKafka)
app.kafka.topic.task-created=test.task.created.events
spring.kafka.consumer.group-id=test-task-manager-group # <<< ?????????
# bootstrap-servers ????? ????????????? @EmbeddedKafka ??? @DynamicPropertySource
# spring.kafka.bootstrap-servers=localhost:9092 

# ???? JsonDeserializer ??????? ??? ?? ????????? ? ?? ?? ?????? ? @KafkaListener ??? valueType
# spring.kafka.consumer.properties.spring.json.value.default.type=com.spbstu.task_manager.event.TaskCreatedEvent
# spring.kafka.consumer.properties.spring.json.trusted.packages=*

# ????????? ??? ???? ? ??????, ???? ??? ?????????? ?? ????????
# spring.cache.type=none # ????????, ????????? ??? ? ????????? ??????